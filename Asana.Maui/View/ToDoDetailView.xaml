<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Asana.Maui.View.ToDoDetailView"
             Title="{Binding PageTitle}">

    <ScrollView Padding="20">
        <VerticalStackLayout Spacing="20">

            <!-- Task Name Entry -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="15">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Task Name *"
                           FontAttributes="Bold"/>
                    <Entry Text="{Binding Name}"
                           Placeholder="Enter task name"
                           BackgroundColor="#f8f9fa"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Task Description Entry -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="15">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Description"
                           FontAttributes="Bold"/>
                    <Entry Text="{Binding Description}"
                           Placeholder="Enter description (optional)"
                           BackgroundColor="#f8f9fa"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Priority Selection -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="15">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Priority"
                           FontAttributes="Bold"/>
                    <HorizontalStackLayout Spacing="10"
                                           HorizontalOptions="Center">
                        <Button Text="1"
                                BackgroundColor="{Binding Priority1Color}"
                                Command="{Binding SetPriorityCommand}"
                                CommandParameter="1"
                                WidthRequest="60"
                                HeightRequest="60"
                                CornerRadius="30"
                                TextColor="White"
                                FontSize="20"
                                FontAttributes="Bold"/>
                        <Button Text="2"
                                BackgroundColor="{Binding Priority2Color}"
                                Command="{Binding SetPriorityCommand}"
                                CommandParameter="2"
                                WidthRequest="60"
                                HeightRequest="60"
                                CornerRadius="30"
                                TextColor="White"
                                FontSize="20"
                                FontAttributes="Bold"/>
                        <Button Text="3"
                                BackgroundColor="{Binding Priority3Color}"
                                Command="{Binding SetPriorityCommand}"
                                CommandParameter="3"
                                WidthRequest="60"
                                HeightRequest="60"
                                CornerRadius="30"
                                TextColor="White"
                                FontSize="20"
                                FontAttributes="Bold"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Due Date DatePicker -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="15">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Due Date"
                           FontAttributes="Bold"/>
                    <DatePicker Date="{Binding DueDate}"
                                Format="MMM dd, yyyy"
                                BackgroundColor="#f8f9fa"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Project Picker -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="15">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Project"
                           FontAttributes="Bold"/>
                    <Picker ItemsSource="{Binding AvailableProjects}"
                            SelectedItem="{Binding SelectedProject}"
                            ItemDisplayBinding="{Binding Name}"
                            BackgroundColor="#f8f9fa"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Action Buttons -->
            <HorizontalStackLayout Spacing="20"
                                   HorizontalOptions="Center"
                                   Margin="0,20,0,0">
                <Button Text="Save"
                        Command="{Binding SaveCommand}"
                        BackgroundColor="#007AFF"
                        TextColor="White"
                        WidthRequest="120"
                        HeightRequest="50"
                        CornerRadius="25"
                        FontSize="16"
                        FontAttributes="Bold"/>

                <Button Text="Cancel"
                        Command="{Binding CancelCommand}"
                        BackgroundColor="#6c757d"
                        TextColor="White"
                        WidthRequest="120"
                        HeightRequest="50"
                        CornerRadius="25"
                        FontSize="16"/>
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>